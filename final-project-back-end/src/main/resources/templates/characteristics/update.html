<!DOCTYPE html>
<html lang="en">
  <head th:replace="fragments/head :: common-head"></head>

  <body class="border">
    <header th:insert="fragments/header :: common-header"></header>

    <div class="container mb-5">
      <h1 class="text-center text-warning my-3">
        Modifica Caratteristica - Plant Nursery
      </h1>

      <div class="container">
        <main class="container my-3">
          <form
            id="characteristic-form"
            th:object="${characteristic}"
            th:action="@{/characteristics/update/{id}(id=${characteristic.id})}"
            method="post"
          >
            <!-- Nome -->
            <div class="mb-3">
              <label for="name" class="form-label">
                Nome <span class="text-danger">*</span>
              </label>
              <input
                type="text"
                class="form-control"
                id="name"
                th:field="*{name}"
                placeholder="Es: Resistente al freddo, Fioritura prolungata, Fogliame decorativo"
                th:errorClass="is-invalid"
                maxlength="100"
              />
              <div class="form-text">Massimo 100 caratteri</div>
              <div
                th:if="${#fields.hasErrors('name')}"
                class="invalid-feedback"
              >
                <ul class="mb-0">
                  <li
                    th:each="err : ${#fields.errors('name')}"
                    th:text="${err}"
                  ></li>
                </ul>
              </div>
            </div>

            <!-- Categoria -->
            <div class="mb-3">
              <label for="category" class="form-label">
                Categoria <span class="text-danger">*</span>
              </label>
              <select
                class="form-select"
                id="category"
                th:field="*{category}"
                th:errorClass="is-invalid"
              >
                <option value="">Seleziona una categoria</option>
                <option value="Resistenza">Resistenza</option>
                <option value="Fioritura">Fioritura</option>
                <option value="Fogliame">Fogliame</option>
                <option value="Crescita">Crescita</option>
                <option value="Habitat">Habitat</option>
                <option value="Cura">Cura</option>
                <option value="Estetica">Estetica</option>
                <option value="Funzionale">Funzionale</option>
              </select>
              <div
                th:if="${#fields.hasErrors('category')}"
                class="invalid-feedback"
              >
                <ul class="mb-0">
                  <li
                    th:each="err : ${#fields.errors('category')}"
                    th:text="${err}"
                  ></li>
                </ul>
              </div>
            </div>

            <!-- Descrizione -->
            <div class="mb-3">
              <label for="description" class="form-label">
                Descrizione <span class="text-danger">*</span>
              </label>
              <textarea
                class="form-control"
                id="description"
                th:field="*{description}"
                rows="4"
                placeholder="Descrivi dettagliatamente questa caratteristica della pianta..."
                th:errorClass="is-invalid"
                maxlength="300"
              ></textarea>
              <div class="form-text">Massimo 300 caratteri</div>
              <div
                th:if="${#fields.hasErrors('description')}"
                class="invalid-feedback"
              >
                <ul class="mb-0">
                  <li
                    th:each="err : ${#fields.errors('description')}"
                    th:text="${err}"
                  ></li>
                </ul>
              </div>
            </div>

            <!-- Info caratteristica -->
            <div class="alert alert-info" role="alert">
              <i class="bi bi-info-circle me-2"></i>
              <strong>Stai modificando:</strong> ID #<span
                th:text="${characteristic.id}"
                >123</span
              >
              <br />
            </div>

            <!-- Bottoni -->
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <a
                th:href="@{/characteristics/{id}(id=${characteristic.id})}"
                class="btn btn-outline-secondary me-md-2"
              >
                <i class="bi bi-arrow-left"></i> Annulla
              </a>
              <a
                th:href="@{/characteristics/{id}(id=${characteristic.id})}"
                class="btn btn-outline-info me-md-2"
              >
                <i class="bi bi-eye"></i> Visualizza
              </a>
              <button type="submit" class="btn btn-warning">
                <i class="bi bi-pencil-square"></i> Aggiorna Caratteristica
              </button>
            </div>
          </form>
        </main>
      </div>
    </div>
  </body>
</html>
